<html><head><link rel="stylesheet" href="slurm-guide-styles.css"></head><body><h1 id="guide-to-using-slurm"> Slurm User Guide </h1>

<h1> Basic Guide to Using Slurm </h1>

Slurm (Simple Linux Utility for Resource Management) is an open-source workload manager and job scheduling system for Linux clusters. This guide will walk you through the basics of using Slurm to submit, manage, and monitor jobs on a cluster.

## Table of Contents

<li>Understanding Slurm Concepts</li>
<li>Basic Slurm Commands</li>
<li>Submitting Jobs</li>
<li>Monitoring Jobs</li>
<li>Managing Jobs</li>
<li>Advanced Slurm Usage</li>
<li>Best Practices</li>

<h2> Understanding Slurm Concepts</h2>

Before diving into Slurm usage, it's important to understand some key concepts:

<li> Node     : A computer in the cluster. </li>
<li> Partition: A group of nodes with specific characteristics. </li>
<li> Job      : A resource allocation request for a specific program or task. </li>
<li> Task     : An instance of a running program within a job. </li>
<li> Job Step : A set of tasks within a job.</li>

<h2> Basic Slurm Commands</h2>

Here are some essential Slurm commands you'll use frequently:

<li> sbatch : Submit a batch script </li>
<li> scancel: Cancel a job </li>
<li> squeue : View information about jobs in the queue </li>
<li> sinfo  : View information about Slurm nodes and partitions </li>



<h3>  Batch Jobs </h3>

For batch jobs, create a submission script and use `sbatch`:

1. Create a script (e.g., `job_script.sh`): <br>
<p><code>

#!/bin/bash  </br>
#SBATCH --job-name=my_job </br>
#SBATCH --output=output_%j.log</br>
#SBATCH --error=error_%j.log</br>
#SBATCH --ntasks=1</br>
#SBATCH --time=01:00:00</br>
#SBATCH --mem=1G</br>

# Your commands here</br>
echo "Hello, Slurm!"</br>

</code></p>
2. Submit the job:
<p><code>

sbatch job_script.sh

</code></p>
<h2> Monitoring Jobs </h2>

To view information about your jobs in the queue:

<p><code>
squeue -u $USER
</code></p>

To see detailed information about a specific job:

<p><code>
scontrol show job <job_id>
</code></p>

## Managing Jobs

To cancel a job:

<p><code>
scancel <job_id>
</code></p>

To hold a job:

<p><code>
scontrol hold <job_id>
</code></p>

To release a held job:

<p><code>
scontrol release <job_id>
</code></p>


<h3>  Resource Constraints </h3>

Specify resource requirements in your job script:

<p><code>
#SBATCH --cpus-per-task=4 <br>
#SBATCH --mem=8G <br>
#SBATCH --gres=gpu:2 <br>
</code></p>

<h3>  Job Dependencies </h3>

Create dependencies between jobs:

<p><code>
sbatch --dependency=afterok:<job_id> next_job.sh
</code></p>

<h2> Best Practices </h2>
<ol>
<li>Estimate resources accurately: Request only the resources you need to avoid long queue times.</li>
<li>Set appropriate time limits: This helps the scheduler plan more effectively.</li>
<li>Use job names: Give your jobs meaningful names for easier management.</li>
<li>Monitor your jobs: Regularly check the status of your jobs and kill them if they're not behaving as expected.</li>
<li>Use appropriate partitions: Choose the right partition based on your job's requirements.</li>
<li>Optimize your code: Well-optimized code can reduce resource usage and improve job throughput.</li>
</ol>
</body>
</html>